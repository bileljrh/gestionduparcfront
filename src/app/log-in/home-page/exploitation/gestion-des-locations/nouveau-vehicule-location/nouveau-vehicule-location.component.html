<div class="container-fluid m-0 p-0 frame" [formGroup]="nouvelleLocationForm">
  <div class="row m-0 p-0">
    <div class="col-12 m-0 p-0 titleHeader">
      <span class="float-left">
        <mat-icon class="mr-2">fiber_new</mat-icon>
        Ajouter une nouvelle location de véhicule
      </span>
      <span class="float-right closeDialog" (click)="closeDialog()">X</span>
    </div>
    <div class="col-12 mt-3">
      Données véhicule de location
      <mat-divider class="mb-4"></mat-divider>
    </div>
   
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Structure
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <mat-select formControlName="structure">
          <mat-option *ngFor="let structure of ListStructure" [value]="structure">
            {{structure.designation}}
          </mat-option>
        </mat-select>
        <mat-hint align="end">{{codeStructure}}</mat-hint>
        <mat-error *ngIf="f.structure.invalid">Structure est requise</mat-error>   
      </mat-form-field>
    </div>
    <div class="col">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Ugp</mat-label>
        <mat-select formControlName="ugpControl">
          <mat-option>--</mat-option>
          <mat-option *ngFor="let ugp of listUgp" [value]="ugp">
            {{ugp.designation}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Société de location
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <input type="text" matInput placeholder="" formControlName="societeLocation">
        <mat-error *ngIf="f.societeLocation.invalid">Societe de Location est requise</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>N° immatriculation</mat-label>
        <input type="text" matInput placeholder="" formControlName="numeroImmatriculation">
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>N° de châssis
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <input type="text" matInput placeholder="" formControlName="numeroChassis">
        <mat-error *ngIf="f.numeroChassis.invalid">Numero Chassis est requis</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>N° de plaque
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <input type="text" matInput placeholder="" formControlName="numeroPlaque">
        <mat-error *ngIf="f.numeroPlaque.invalid">Numero de Plaque est requis</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Marche</mat-label>
        <input type="text" matInput placeholder="" formControlName="marche">
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Energie
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <mat-select formControlName="energie">
          <mat-option *ngFor="let energie of ListEnergie" [value]="energie">
            {{energie.description}}
          </mat-option>
        </mat-select>
        <mat-hint align="end">{{codeEnergie}}</mat-hint>
        <mat-error *ngIf="f.energie.invalid">Energie est requise</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Genre
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <mat-select formControlName="genre">
          <mat-option *ngFor="let genre of ListGenreVehicule" [value]="genre">
            {{genre.designation}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="f.genre.invalid">Genre est requis</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Marque
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <mat-select formControlName="marque">
          <mat-option *ngFor="let marque of ListMarqueVehicule" [value]="marque">
            {{marque.designation}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="f.marque.invalid">Marque est requise</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-8">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Index km
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <input type="number" matInput placeholder="" formControlName="indexKM">
        <mat-error *ngIf="f.indexKM.invalid">Index en KM est requis</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-12 mt-2">
      Dates de location
      <mat-divider class="mb-4"></mat-divider>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Date début de location
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <input matInput [matDatepicker]="picker1" formControlName="dateDebutLocation">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
        <mat-error *ngIf="f.dateDebutLocation.invalid">Date Début Location est requise</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Date fin de location
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <input matInput [matDatepicker]="picker2" formControlName="dateFinLocation">
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
        <mat-error *ngIf="f.dateFinLocation.invalid">Date Fin Location est requise</mat-error>   
      </mat-form-field>
    </div>
    <div class="col-4">
      <mat-form-field class="example-full-width" appearance="outline">
        <mat-label>Affectation
          <mat-icon class="required" matSuffix>star</mat-icon>
        </mat-label>
        <mat-select formControlName="affectation">
          <mat-option *ngFor="let affectation of typeAffectation" [value]="affectation">
            {{affectation}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="f.affectation.invalid">Affectation est requise</mat-error>   
      </mat-form-field>
    </div>
    <div class="offset-6 col-3">
      <div class="float-right mt-4 mb-3">
        <button mat-raised-button (click)="onCancel()" style="width: 90%">Annuler</button>
      </div>
    </div>
    <div class="col-3">
      <div class="float-right mt-4 mb-3">
        <button mat-raised-button (click)="onConfirm()" style="width: 100%" [disabled]="!nouvelleLocationForm.valid">
          Confirmer
        </button>
      </div>
    </div>
  </div>
</div>
